<app-navbar></app-navbar>

<div class="container purple-theme p-0">
  <div class="row mt-4 m-0 p-0" fxHide="false" fxHide.lt-sm></div>

  <div class="row m-0">
    <div class="col m-0 p-0">
      <mat-card class="upload-card diffused-shadow">
        <mat-card-title>
          <h2 class="white-text text-center" style="font-weight: 400">Step 1: Upload a video</h2>
        </mat-card-title>
        <mat-card-content class="video-upload-content d-flex flex-column mt-4 pb-3 mb-4 pt-3">
          <div class="row">
            <div class="col"></div>
          </div>
          <div *ngIf="!showProgress&&showDropBox" appFileDrop (filesDropped)="handleDrop($event)" (filesHovered)="dropzoneState($event)" [ngClass]="{'drop-active': dropzoneActive}"
            class="row fill d-flex file-outline m-4">
            <div class="col pt-4 pb-4 text-center align-self-center pointer-events-none">
              <h3 class="white-text t-all-250" style="font-weight: 400">DROP VIDEO FILE</h3>
            </div>
          </div>
          <div class="row justify-content-center white-theme" *ngIf="showUploadProgress">
            <mat-progress-spinner class="example-margin" color="accent" mode="determinate" [value]="uploadProgress">
            </mat-progress-spinner>
          </div>
          <div class="row" *ngIf="videoActive">
            <div class="col white-text text-center">
              <mat-icon class="icon-xxl">check</mat-icon>
            </div>
          </div>
          <div class="row" *ngIf="videoActive">
            <div class="col white-text">
              <h2 class="text-center">{{videoName}}</h2>
            </div>
          </div>
          <div class="row mt-3" *ngIf="videoActive">
            <div class="col white-text text-center">
              <h4>{{Math.floor(lectureEndTime/60)}}m {{Math.floor(lectureEndTime%60)}}s</h4>
            </div>
          </div>
          <div class="row" *ngIf="!showProgress&&showDropBox">
            <div class="col text-center mt-2">
              <button mat-raised-button>
                <mat-icon>file_upload</mat-icon>
                <span>UPLOAD</span>
              </button>
            </div>
          </div>
        </mat-card-content>
        <mat-card-footer>
          <div class="video-upload-footer"></div>
        </mat-card-footer>
      </mat-card>
    </div>
  </div>

  <!-- Spacer on desktop, invisible on mobile -->
  <div *ngIf="videoActive" class="row p-0 m-0 mt-4 mb-4" fxHide="false" fxHide.lt-sm></div>

  <app-quiz *ngIf="videoActive" [lectureTime]="lectureEndTime"></app-quiz>

  <!-- Spacer on desktop, invisible on mobile -->
  <div *ngIf="videoActive" class="row p-0 m-0 mt-4 mb-4" fxHide="false" fxHide.lt-sm></div>

  <app-model-editor *ngIf="videoActive" [lectureTime]="lectureEndTime"></app-model-editor>

  <!-- Spacer on desktop, invisible on mobile -->
  <div *ngIf="videoActive" class="row p-0 m-0 mt-4 mb-4" fxHide="false" fxHide.lt-sm></div>

  <app-timeline *ngIf="videoActive" [lectureTime]="lectureEndTime"></app-timeline>

  <!-- Spacer on desktop, invisible on mobile -->
  <div class="row p-0 m-0 mt-4 mb-4" fxHide="false" fxHide.lt-sm></div>
</div>